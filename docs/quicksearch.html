<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Documentation Classes ExpressPluginExpressService Events event:@midgar/express:afterInit Classes Classes ExpressPlugin ExpressService Events @midgar/express:afterInit afterInit event. Used to attach middleware on express × Search results Close Documentation generated by JSDoc 3.6.3 on 2020-01-19T16:19:24+00:00 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Classes ExpressPluginExpressService Events event:@midgar/express:afterInit @midgar/express Ajoute un service expess Express Installation $ npm i @midgar/express Si tout s'est bien passé, un message de confirmation s'affiche: #midgar-cli @midgar/express added to plugins.json ! Fonctionnement Ajoute un service mid:express: const expressService = mid.getService('mid:express') // App express const app = expressService.app Ajouter un middlware express import morgan from 'morgan' import { Plugin } from '@midgar/midgar' /** * TestPlugin */ class TestPlugin extends Plugin { init () { // Listen @midgar/express:afterInit event this.mid.on('@midgar/express:afterInit', (expressService) =&gt; { expressService.app.use(morgan('combined')) }) } } export default TestPlugin Configuration Ceci est la configuration par défault si elle n'est pas modifié dans la configration de Midgar. { ... express: { port: 3000, host: 'localhost', ssl: false, sslCert: '', sslKey: '' } ... } Vous pouvez activer cors depuis cette même configuration: { ... express: { port: 3000, ... cors: { origin: 'https://domain.com', credentials: true, allowedHeaders: [ 'Access-Control-Allow-Headers', 'Origin', 'Accept', ... ] } } ... } Vous trouverez plus d'information sur la configuration du module cors ici. × Search results Close Documentation generated by JSDoc 3.6.3 on 2020-01-19T16:19:24+00:00 using the DocStrap template. "},"ExpressPlugin.html":{"id":"ExpressPlugin.html","title":"Class: ExpressPlugin","body":" Documentation Classes ExpressPluginExpressService Events event:@midgar/express:afterInit Class: ExpressPlugin ExpressPlugin ExpressPlugin class new ExpressPlugin() Methods &lt;async&gt; init() Init plugin × Search results Close Documentation generated by JSDoc 3.6.3 on 2020-01-19T16:19:24+00:00 using the DocStrap template. "},"ExpressService.html":{"id":"ExpressService.html","title":"Class: ExpressService","body":" Documentation Classes ExpressPluginExpressService Events event:@midgar/express:afterInit Class: ExpressService ExpressService ExpressService class new ExpressService() Members app :Express Express instance for the front webserver Type: Express See: express doc config :object Plugin config from Midgar config Type: object httpServer :http.Server Http server Type: http.Server mid :Midgar Midgar instance Type: Midgar Methods _getBaseUrl() Return base url from config params Returns: Type string &lt;async&gt; init() Int service &lt;async&gt; initExpress() Int express &lt;async&gt; start() Create http server instance and listen &lt;async&gt; stop() Stop web server × Search results Close Documentation generated by JSDoc 3.6.3 on 2020-01-19T16:19:24+00:00 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
